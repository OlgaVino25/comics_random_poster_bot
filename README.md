# Автоматизированная система для скачивания комиксов xkcd и публикация в Telegram-канал через бота.
### Проект состоит из:
1. Скрипты: `download_utils.py` и `file_utils.py` вспомогательные функции для работы с файлами: скачивание изображение по URL и схранение в указанную папку и извлечение расширения файла из URL.
2. Скрипт:
- `comics_images.py` - автоматическая загрузка комиксов xkcd, сохранение изображений и данных в указанную директорию. 
3. `tg_bot.py` - базовый модуль для работы с Telegram API: содержит функции отправки текста, фото в группу Telegram.
4. `publication_tg_bot.py` - телеграм-бот для периодической публикации изображений в чат/канал с настраиваемым интервалом и дополнительными опциями. Публикует случайный комикс и удаляет его после успешной отправки

## Функционал
- Автоматическое скачивание комиксов xkcd
- Автопубликация в Telegram-канал


## Требования
- `Python3`
- Учетные записи:
    - [Telegram Bot Token](https://way23.ru/регистрация-бота-в-telegram.html)

Чтобы запустить скрипт на `Python`, вам нужен интерпретатор `Python`. `Pip` понадобится, чтобы ставить библиотеки других разработчиков.
Установить `python` по [ссылка на официальный сайт](https://www.python.org/).

**Установить среду разработки**

[Статья о выборе среды](https://tproger.ru/articles/python-ide)

## Как установить
1. Клонируйте репозиторий

Репозиторий принадлежит не вам, поэтому стоит создать свою собственную копию репозитория. Это называется форком. [Как создать форк (вилку)](https://docs.github.com/ru/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo).

3. Установите зависимости

**Основные зависимости:**
- `python-telegram-bot==20.7` - библиотека для разработки Telegram-ботов на языке Python
- `python-dotenv==1.1.0` - для работы с переменными окружения
- `requests==2.32.3` - библиотека для работы с HTTP-запросами в Python, которая упрощает взаимодействие с веб-сервисами и API
- `urllib3==1.26.18` - библиотека для выполнения HTTP-запросов в Python, которая упрощает работу с соединениями и запросами

Программа не будет работать без библиотеки `requests`, а она не входит в стандартную библиотеку `Python`. Поставьте её на свой компьютер с помощью [pip](https://dvmn.org/encyclopedia/pip/pip_basic_usage/).

```bash
pip install -r requirements.txt
```

4. Проверьте установку
```bash
python --version  # Должна быть версия Python 3*
pip list          # Должны отобразиться все зависимости, описанные выше
```

## Настройка

**Настройка переменных окружения**

Переменные окружения придётся загружать вручную при каждом запуске терминала. Автоматизируйте процесс с помощью модуля [python-dotenv](https://pypi.org/project/python-dotenv/0.9.1/).

**Переменные:**
- COMICS_PYTHON_BOT_TG_TOKEN - токен Telegram-бота. Создайте бота через [@BotFather](https://t.me/BotFather) и скопируйте токен.
- COMICS_PYTHON_BOT_GROUP_CHAT_ID - ID чата/канала для отправки сообщений (Добавьте бота в канал/чат). Используйте бота, чтобы узнать свой chat_id.

1. Создать файл `.env` в корне проекта:
- COMICS_PYTHON_BOT_TG_TOKEN=ваш_токен_здесь
- COMICS_PYTHON_BOT_GROUP_CHAT_ID=ваш_ID_здесь

## Запуск
После настройки окружения и установки зависимостей запустите скрипт.

Открыть терминал и ввести:
```bash
python comics_images.py --help
```

Автопубликация в Telegram:
```bash
python publication_tg_bot.py --help
```



### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
